include "TrackingTools/KalmanUpdators/data/KFUpdatorESProducer.cfi"

include "RecoMuon/TransientTrackingRecHit/data/MuonTransientTrackingRecHitBuilder.cfi"
include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"

include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"

include "TrackingTools/GeomPropagators/data/SmartPropagator.cff"

es_module Chi2EstimatorForRefit = Chi2MeasurementEstimatorESProducer
{
  string ComponentName = "Chi2EstimatorForRefit"
  double MaxChi2 = 100000.
  double nSigma = 3.
}



es_module KFFitterForRefitOutsideIn = KFTrajectoryFitterESProducer
{
    string ComponentName = "KFFitterForRefitOutsideIn"
    
    string Propagator = "SmartPropagatorAnyRK"
    string Updator = "KFUpdator"
    string Estimator = "Chi2EstimatorForRefit"
    int32 minHits = 3
  }

es_module KFSmootherForRefitOutsideIn = KFTrajectorySmootherESProducer
  {
    string ComponentName = "KFSmootherForRefitOutsideIn"
    
    string Propagator = "SmartPropagatorRK"
    string Updator = "KFUpdator"
    string Estimator = "Chi2EstimatorForRefit"

    double errorRescaling = 100.
    int32 minHits = 3
}

############################################################

es_module KFFitterForRefitInsideOut = KFTrajectoryFitterESProducer
{
    string ComponentName = "KFFitterForRefitInsideOut"
    
    string Propagator = "SmartPropagatorAnyRK"
    string Updator = "KFUpdator"
    string Estimator = "Chi2EstimatorForRefit"
    int32 minHits = 3
}

es_module KFSmootherForRefitInsideOut = KFTrajectorySmootherESProducer
{
    string ComponentName = "KFSmootherForRefitInsideOut"
    
    string Propagator = "SmartPropagatorAnyRK"
    string Updator = "KFUpdator"
    string Estimator = "Chi2EstimatorForRefit"

    double errorRescaling = 100.
    int32 minHits = 3
}



