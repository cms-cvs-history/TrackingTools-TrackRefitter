include "TrackingTools/TrackRefitter/data/TracksToTrajectories.cff"

### IMPORTANT !!! ##

# If you want to revert the fit direction, then

# Case 1 #
# string RefitDirection = "insideOut"
# KFTrajectoryFitterESProducer   ---> Fitter = "KFFitterForRefitInsideOut"
# KFTrajectorySmootherESProducer ---> Smoother = "KFSmootherForRefitInsideOut"

# Case 2 #
# string RefitDirection = "outsideIn"
# KFTrajectoryFitterESProducer   ---> Fitter = "KFFitterForRefitOutsideIn"
# KFTrajectorySmootherESProducer ---> Smoother = "KFSmootherForRefitOutsideIn"

# the propagator must be the same as the one used by the Fitter

###

module ctfWithMaterialTracks = TracksToTrajectories {
    
    InputTag Tracks = ctfWithMaterialTracks
    
    PSet TrackTransformer = {
	string Fitter = "KFFitterForRefitInsideOut"
	string Smoother = "KFSmootherForRefitInsideOut"
	string Propagator = "SmartPropagatorAnyRK"
	string TrackerRecHitBuilder = "WithTrackAngle"
	string MuonRecHitBuilder = "MuonRecHitBuilder"
	
	string RefitDirection = "insideOut"
	bool RefitRPCHits = true
        bool DoPredictionsOnly = false
    }
}
