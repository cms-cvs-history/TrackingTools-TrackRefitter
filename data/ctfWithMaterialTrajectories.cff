include "TrackingTools/TrackRefitter/data/TracksToTrajectories.cff"

### IMPORTANT !!! ##

# If you want to revert the fit direction, i.e. put  RefitDirection = "insideOut", then
# you have to change TracksToTrajectories_insideOut.cff to TracksToTrajectories_outsideIn.cff

# string RefitDirection = "insideOut"
# KFTrajectoryFitterESProducer   ---> Propagator = "SmartPropagatorAny"
# KFTrajectorySmootherESProducer ---> Propagator = "SmartPropagatorOpposite"

# string RefitDirection = "outsideIn"
# KFTrajectoryFitterESProducer   ---> Propagator = "SmartPropagatorAnyOpposite"
# KFTrajectorySmootherESProducer ---> Propagator = "SmartPropagator"

###

module ctfWithMaterialTracks = TracksToTrajectories {
    
    InputTag Tracks = ctfWithMaterialTracks
    
    PSet TrackTransformer = {
	string Fitter = "KFFitterForRefitInsideOut"
	string Smoother = "KFSmootherForRefitInsideOut"
	string TrackerRecHitBuilder = "WithTrackAngle"
	string MuonRecHitBuilder = "MuonRecHitBuilder"
	
	string RefitDirection = "insideOut"
    }
}
