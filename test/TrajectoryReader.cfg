process TEST = {
    source = PoolSource { 
	
	untracked vstring fileNames = {
	    '/store/RelVal/2007/7/20/RelVal-RelVal152SingleMuMinusPt10-1184918084/0000/0480715D-B636-DC11-A279-000423D6B1CC.root'
	}
    }
    untracked PSet maxEvents = {untracked int32 input = 100}
    
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cff" 
    include "Geometry/CommonDetUnit/data/globalTrackingGeometry.cfi"

    service = MessageLogger {
	untracked vstring destinations = { "cout" }
	
	untracked vstring debugModules = { "*" }
	
	untracked vstring categories = { "TrackTransformer","TracksToTrajectories","TrajectoryReader"}
	
        untracked PSet cout = {
	    untracked string threshold = "DEBUG"
	    untracked bool noLineBreaks = true
	    untracked PSet DEBUG = {untracked int32 limit = 0 }
	    untracked PSet TrackTransformer = {untracked int32 limit = 10000000}
	    untracked PSet TracksToTrajectories = {untracked int32 limit = 10000000}
	    untracked PSet TrajectoryReader = {untracked int32 limit = 10000000}
	}
    }  

    include "TrackingTools/TrackRefitter/data/globalMuonTrajectories.cff"
    include "TrackingTools/TrackRefitter/data/standAloneMuonTrajectories.cff"
    include "TrackingTools/TrackRefitter/data/ctfWithMaterialTrajectories.cff"
    
    
    module GLBTrajectoriesReader = TrajectoryReader {
  	InputTag InputLabel = globalMuons
	untracked string rootFileName = "GLBTajectoriesReader.root"
    }

    module STATrajectoriesReader = TrajectoryReader {
  	InputTag InputLabel = standAloneMuons
	untracked string rootFileName = "STATajectoriesReader.root"
    }

    module CTFTrajectoriesReader = TrajectoryReader {
  	InputTag InputLabel = ctfWithMaterialTracks
	untracked string rootFileName = "CTFTajectoriesReader.root"
    }
    
    replace standAloneMuons.TrackTransformer.RefitRPCHits = false

    sequence glbMuons = {globalMuons,GLBTrajectoriesReader}    
    sequence staMuons = {standAloneMuons,STATrajectoriesReader}
    sequence ctf = {ctfWithMaterialTracks,CTFTrajectoriesReader}

    path testSTA = {staMuons}

    #path testGLB = {glbMuons}
    #path testCTF = {ctf}
    # path testAll = {staMuons & glbMuons & ctf}
}
